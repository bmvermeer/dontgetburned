<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head lang="en">
    <title>Edit Person - CoffeeShop</title>
    <!--/*/ <th:block th:include="fragments/head :: head"></th:block> /*/-->
  </head>
  <body>
    <div class="container">
      <!--/*/ <th:block th:include="fragments/header :: header"></th:block> /*/-->
      <form th:action="${person.id != null} ? @{/persons/edit/{id}(id=${person.id})} : @{/persons/add}"
            method="post" th:object="${person}">
        <input type="hidden" th:field="*{id}" />
        <div class="panel panel-default">
          <div class="panel-heading lead">
            <span th:text="${person.id == null} ? 'Create Person' : 'Edit Person: ' + *{username}"></span></div>
          <fieldset>
            <div class="col-lg-12" th:if="${message != null}">
              <div class="alert alert-success" th:text="${message}"></div>
            </div>
            <div class="col-lg-12 form-group" th:classappend="${#fields.hasErrors('username')} ? 'has-error'">
              <label class="col-lg-2 control-label" for="username">Username</label>
              <div class="col-lg-4">
                <input type="text" id="username" class="form-control" th:field="*{username}" />
                <small class="help-block"
                       th:if="${#fields.hasErrors('username')}"
                       th:errors="*{username}"></small>
              </div>
            </div>
            <div class="col-lg-12 form-group" th:classappend="${#fields.hasErrors('firstName')} ? 'has-error'">
              <label class="col-lg-2 control-label" for="firstName">First Name</label>
              <div class="col-lg-4">
                <input type="text" id="firstName" class="form-control" th:field="*{firstName}" />
                <small class="help-block"
                       th:if="${#fields.hasErrors('firstName')}"
                       th:errors="*{firstName}"></small>
              </div>
            </div>
            <div class="col-lg-12 form-group" th:classappend="${#fields.hasErrors('lastName')} ? 'has-error'">
              <label class="col-lg-2 control-label" for="lastName">Last Name</label>
              <div class="col-lg-4">
                <input type="text" id="lastName" class="form-control" th:field="*{lastName}" />
                <small class="help-block"
                       th:if="${#fields.hasErrors('lastName')}"
                       th:errors="*{lastName}"></small>
              </div>
            </div>
            <div class="col-lg-12 form-group" th:classappend="${#fields.hasErrors('email')} ? 'has-error'">
              <label class="col-lg-2 control-label" for="email">Email</label>
              <div class="col-lg-4">
                <input type="email" id="email" class="form-control" th:field="*{email}" />
                <small class="help-block"
                       th:if="${#fields.hasErrors('email')}"
                       th:errors="*{email}"></small>
              </div>
            </div>
            <div class="col-lg-12 form-group" th:classappend="${#fields.hasErrors('phone')} ? 'has-error'">
              <label class="col-lg-2 control-label" for="phone">Phone</label>
              <div class="col-lg-4">
                <input type="text" id="phone" class="form-control" th:field="*{phone}" />
                <small class="help-block"
                       th:if="${#fields.hasErrors('phone')}"
                       th:errors="*{phone}"></small>
              </div>
            </div>
            <div class="col-lg-12 form-group" th:classappend="${#fields.hasErrors('address')} ? 'has-error'">
              <label class="col-lg-2 control-label" for="address">Address</label>
              <div class="col-lg-4">
                <input type="text" id="address" class="form-control" th:field="*{address}" />
                <small class="help-block"
                       th:if="${#fields.hasErrors('address')}"
                       th:errors="*{address}"></small>
              </div>
            </div>

            </div>
            <div class="col-lg-12 form-group">
              <label class="col-lg-2"></label>
              <div class="col-lg-4">
                <button type="submit" class="btn btn-primary">Save</button>
                <a class="btn btn-default" th:href="@{/persons}">Cancel</a>
              </div>
            </div>
          </fieldset>
        </div>
      </form>
    </div>
  </body>
</html>